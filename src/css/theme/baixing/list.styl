
////////////////////  bx - list  ////////////////////
/** var **/
$cm-list-item-min-height = 50px
$cm-list-item-padding-h = 15px

/* --------------------------------------------- */
/** list **/
.cmList
	// layout
	> li
		&[data-badge]
		&[data-value]
			position relative

		// padding
		>
			{$-sel-list-item-content}
				&:first-child
					padding $cm-list-item-padding-v $cm-list-item-padding-h


/* --------------------------------------------- */
/** theme **/
.cmList
	border-radius $cm-border-radius
	// margin
	// TODO: set margins to hx elements
	& + &
		margin-top 12px

	// list item
	> li
		// border radius
		&:first-child >
			{$-sel-list-item-content}
				&:first-child
					border-top-left-radius $cm-list-border-radius
					border-top-right-radius $cm-list-border-radius
		&:last-child >
			{$-sel-list-item-content}
				&:first-child
					border-bottom-left-radius $cm-list-border-radius
					border-bottom-right-radius $cm-list-border-radius

		&
			min-height $cm-list-item-min-height
			font-size $bx-fs-headline-minor

		+ li
			margin-top 1px

		>
			{$-sel-list-item-content}
				&:first-child
					box-sizing border-box
					min-height $cm-list-item-min-height
					height 100%
					line-height $cm-list-item-line-height
					overflow ellipsis
					background-color lighten($bx-color-x-light-gray, 30%)

			a, label
				&:first-child
					display block
					position relative
					z-index 10
					color inherit
					text-decoration none
					background-color $bx-color-light-gray
					html.mouse &:hover
						background-color darken($bx-color-light-gray, 5%)
					html.mouse &:active
						background-color darken($bx-color-light-gray, 10%)

/* --------------------------------------------- */
/** arrow **/
$cm-list-arrow-height = 8px
/*$cm-list-arrow-color = #444*/
/*$cm-list-arrow-angle = 26.565deg*/
$cm-list-arrow-angle = 40deg
$cm-list-arrow-line-width = 1px
$cm-list-arrow-area-width = 30px

.cmList > li.cmRightArrow
.cmList.cmRightArrow > li
	> a:first-child
		&::before
		&::after
			position absolute
			top 50%
			width 0
			height $cm-list-arrow-height
			right $cm-list-item-padding-h
			pointer-events none
			html.cmui &
				content ''
				border-right $cm-list-arrow-line-width solid
		&::before
			margin-top (- $cm-list-arrow-height)
			transform skewX($cm-list-arrow-angle)
		&::after
			transform skewX((- $cm-list-arrow-angle))
/*
	// android legacy
	html.android.legacy &::after
		display none
	html.android.legacy &::before
		width 0
		height 0
		border-top-color transparent
		border-bottom-color transparent
		background-color transparent
		border-style solid
		border-width $cm-list-arrow-height 0 $cm-list-arrow-height ($cm-list-arrow-height/2)
		right $cm-list-item-padding-h - 2px
		transform none
*/

/* --------------------------------------------- */
/** badge **/
$cm-list-badge-padding-h = 5px
$cm-list-badge-height = 22px
$cm-list-badge-min-width = 30px
$cm-list-badge-max-width = 45px
$cm-list-badge-bg-color = $cm-color-fg

.cmList > li[data-badge]::after
	content attr(data-badge)
	box-sizing border-box
	absolute top 50% right $cm-list-item-padding-h
	z-index 20
	margin-top (- $cm-list-badge-height/2)
	padding 0 $cm-list-badge-padding-h
	min-width $cm-list-badge-min-width
	max-width $cm-list-badge-max-width
	overflow ellipsis
	line-height-as-height($cm-list-badge-height)
	font-size $cm-font-size
	text-align center
	color white
	background-color $cm-list-badge-bg-color
	border-radius ($cm-list-badge-height/2)
	pointer-events none

.cmList.cmRightArrow > li[data-badge]
.cmList > li[data-badge].cmRightArrow
	&::after
		right $cm-list-arrow-area-width


/* --------------------------------------------- */
/** value **/
$cm-list-value-width = 60%
$cm-list-value-height = 24px
$cm-list-value-fg-color = $cm-color-fg

.cmList > li[data-value]::after
	content attr(data-value)
	box-sizing border-box
	absolute top 50% right 0
	z-index 20
	margin-top (- $cm-list-value-height/2)
	padding-right $cm-list-item-padding-h
	line-height-as-height($cm-list-value-height)
	max-width $cm-list-value-width
	overflow ellipsis
	text-align right
	color $cm-list-value-fg-color
	pointer-events none

.cmList.cmRightArrow > li[data-value]
.cmList > li[data-value].cmRightArrow
	&::after
		padding-right $cm-list-arrow-area-width


/* --------------------------------------------- */
/** padding **/
.cmList > li.cmRightArrow
.cmList.cmRightArrow > li
	> a:first-child
		padding-right $cm-list-arrow-area-width

.cmList > li[data-badge] >
	{$-sel-list-item-content}
		&:first-child
			padding-right ($cm-list-item-padding-h + $cm-list-badge-max-width + 5)
.cmList > li[data-badge].cmRightArrow
.cmList.cmRightArrow > li[data-badge]
	> a:first-child
		padding-right ($cm-list-arrow-area-width + $cm-list-badge-max-width + 5)

.cmList > li[data-value] >
	{$-sel-list-item-content}
		&:first-child
			padding-right ($cm-list-value-width + 2)


/* --------------------------------------------- */
/** icon **/
$cm-list-item-icon-margin-h = $cm-list-item-padding-v

.cmList > li >
	{$-sel-list-item-content}
		&:first-child
			> .cmIcon
				float left
				margin-right $cm-list-item-icon-margin-h

				for $size in 2 .. 5
					&.cmX{$size}0
						$cm-list-item-icon-margin-v = (($cm-list-item-line-height - $size * 10)/2)
						margin-top $cm-list-item-icon-margin-v
						margin-bottom $cm-list-item-icon-margin-v

